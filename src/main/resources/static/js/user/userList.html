
<div class="page-title">
	<h2>{{translator.label.userslistheading}}</h2>
</div>

<div class="row">
	<div class="panel panel-default">

		<div class="panel-heading">
			<a class="btn btn-default" ng-click="usersCtrl.fetchAllUsers()"><i
				class="fa fa-refresh"></i>
				{{translator.label.userslistheadingbuttonrefresh}}</a>
			<div class="pull-right">
				<a class="btn btn-default" ng-click="usersCtrl.addUserToModel()"> <i
					class="fa fa-plus"></i>
					{{translator.label.userslistheadingbuttonuseradd}}
				</a>
			</div>
		</div>

		<div class="panel-body">
			<div class="table-responsive">
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th width="10%">
								{{translator.label.userslistuserstableheadingid}}</th>

							<th width="30%">
								{{translator.label.userslistuserstableheadingname}}</th>
							<th width="20%">{{translator.label.edituserlabelroles}}</th>
							<th width="10%">{{translator.label.userslistuserstableheadingenabled}}</th>
							<th width="20%">{{translator.label.userslistuserstableheadingactions}}</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="user in usersCtrl.users">
							<td>{{user.id == 0 ? '-' : user.id}}</td>

							<td><span editable-text="user.username" e-name="username"
								onbeforesave="usersCtrl.checkEmail($data)" e-form="rowform"
								e-required> {{ user.username || 'empty'}} </span></td>

							<td><span editable-checklist="user.rolesSelected"
								e-name="rolesSelected"
								e-ng-options="s.value as s.text for s in ::usersCtrl.allRoles track by s.value"
								e-form="rowform"> {{ user.rolesSelected.join(', ') }} </span></td>

							<td><span editable-radiolist="user.enabled" e-name="enabled"
								e-ng-options="o.value as o.text for o in ::usersCtrl.translator.yesno track by o.value"
								e-form="rowform"> {{ user.enabled }} </span></td>

							<td>
								<form editable-form name="rowform"
									onbeforesave="usersCtrl.createOrUpdateUser($data,user.id)"
									ng-show="rowform.$visible" class="form-buttons form-inline"
									shown="usersCtrl.inserted == user">
									<button type="submit" ng-disabled="rowform.$waiting"
										class="btn btn-primary">{{translator.label.edituserbuttonsave}}</button>
									<button type="button" ng-disabled="rowform.$waiting"
										ng-click="rowform.$cancel()" class="btn btn-default">
										{{translator.label.edituserbuttoncancel}}</button>
								</form>

								<div ng-show="!rowform.$visible">
									<a class="btn btn-default" ng-click="rowform.$show()">{{translator.label.userslistuserstablebuttonedit}}<!-- "#!/users/edit/{{user.id}}" -->
									</a> <a class="btn btn-default"
										ng-click="usersCtrl.deleteUser(user.id)">{{translator.label.userslistuserstablebuttondelete}}</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
<script>
	
</script>